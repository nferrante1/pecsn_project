--VIEW FOR CONFIG PARAMETERS and VECTOR ID together

CREATE VIEW scenariosConfig AS
SELECT v.vectorId as vectorId, v.vectorName as vectorName, v.moduleName as moduleName, v.runId as runId, rp1.paramValue as scenario, rp2.paramValue as config, CAST(rp3.paramValue as INT) as clients 
FROM vector v NATURAL JOIN runParam rp1 INNER JOIN runParam rp2 ON rp1.runId = rp2.runId INNER JOIN runParam rp3 ON rp1.runId = rp3.runId
WHERE 
	rp1.paramKey = "**.scenario" AND
	rp2.paramKey = "**.serviceTimeConfig" AND
	rp3.paramKey = "**.clients";

--QUERY FOR THROUGHPUT;
SELECT sc.config as config, sc.clients as clients, AVG(v.vectorCount)/3600.0 as throughput
FROM scenariosConfig sc INNER JOIN vector v on v.vectorId = sc.vectorId
WHERE sc.vectorName = "completedTransactions:vector" AND
		sc.scenario = '"s1"'
GROUP BY sc.clients, sc.config
ORDER BY sc.clients, sc.config;

--QUERY FOR RESPONSE TIME

--QUERY FOR UTILIZATION

	
 